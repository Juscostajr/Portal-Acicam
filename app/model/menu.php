<?php/** * Created by PhpStorm. * User: Juscelino Jr * Date: 24/01/2017 * Time: 17:03 */require_once "Crud.Class.php";class Menu extends Crud{    protected $table = 'item_menu';    protected $key = 'ID_Menu';    private $id;    private $titulo;    private $pai;    private $url;    /**     * @return mixed     */    public function getId()    {        return $this->id;    }    /**     * @param mixed $id     */    public function setId($id)    {        $this->id = $id;    }    /**     * @return mixed     */    public function getTitulo()    {        return $this->titulo;    }    /**     * @param mixed $titulo     */    public function setTitulo($titulo)    {        $this->titulo = $titulo;    }    /**     * @return mixed     */    public function getPai()    {        return $this->pai;    }    /**     * @param mixed $pai     */    public function setPai($pai)    {        $this->pai = $pai;    }    /**     * @return mixed     */    public function getUrl()    {        return $this->url;    }    /**     * @param mixed $url     */    public function setUrl($url)    {        $this->url = $url;    }    public function findMainMenu(){        $sql = "SELECT * FROM $this->table WHERE ID_Menu_Pai IS NULL AND Pagina_DS_URL IS NULL";        $stmt = DB::prepare($sql);        $stmt->execute();        return $stmt->fetchAll();    }    public function findChildMenu($father){            $sql = "SELECT * FROM $this->table WHERE ID_Menu_Pai = '$father'";            $stmt = DB::prepare($sql);            $stmt->execute();            return $stmt->fetchAll();    }    public function insert()    {        $sql = "INSERT INTO $this->table (DS_Titulo,ID_Menu_Pai,Pagina_DS_URL) VALUES (:titulo, :pai, :url)";        $stmt = DB::prepare($sql);        $stmt->bindParam(':titulo',$this->titulo);        $stmt->bindParam(':pai',$this->pai,PDO::PARAM_INT);        $stmt->bindParam(':url',$this->url);        return $stmt->execute();    }    public function update($id)    {        $sql = "UPDATE $this->table SET DS_Titulo = :titulo , ID_Menu_Pai = :pai, Pagina_DS_URL = :url WHERE ID_Menu = $id";        $stmt = DB::prepare($sql);        $stmt->bindParam(':titulo',$this->titulo);        $stmt->bindParam(':pai',$this->pai,PDO::PARAM_NULL);        $stmt->bindParam(':url',$this->url,PDO::PARAM_NULL);        return $stmt->execute();    }    public function jsonSerialize()    {        $vars = get_object_vars($this);        return $vars;    }}